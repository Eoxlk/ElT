(function(f,l,n){"use strict";const m="abcdefghijklmnopqrstuvwxyz";function c(r,e){return e=e||m,[...crypto.getRandomValues(new Uint8Array(r)).map(function(t){return t%e.length})].map(function(t){return e.charAt(t)}).join("")}let u=f.findByProps("uploadLocalFiles");n.storage.nameLength??=8,n.storage.nameChars??="abcdefghijklmnopqrstuvwxyz",l.before("uploadLocalFiles",u,function(r){if(!r[0])return;let{fileItems:e}=r[0],t=parseInt(n.storage.nameLength),d=isNaN(t)?8:t,h=n.storage.nameChars;for(const a of e){let o=a.filename.lastIndexOf("."),i=o!==-1?a.filename.slice(o):"",s=c(d,h);a.filename=s+i,a.item&&(a.item.filename=s+i)}})})(vendetta.metro,vendetta.patcher,vendetta.plugin);
